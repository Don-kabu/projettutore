{% extends "email/base.html" %}

{% block title %}Confirmation de Signalement - Regideso{% endblock %}

{% block header_title %}Signalement ConfirmÃ© âœ…{% endblock %}
{% block header_subtitle %}Votre signalement a Ã©tÃ© enregistrÃ© avec succÃ¨s{% endblock %}

{% block content %}
    <h2>Bonjour {{ fuite.complaint_name|default:"Citoyen" }},</h2>
    
    <p>Merci d'avoir pris le temps de signaler une fuite d'eau. Votre engagement citoyen contribue Ã  prÃ©server cette prÃ©cieuse ressource.</p>
    
    <div class="alert alert-success">
        <strong>âœ… Signalement enregistrÃ©</strong><br>
        Votre signalement a Ã©tÃ© reÃ§u et traitÃ© avec succÃ¨s par nos Ã©quipes.
    </div>
    
    <!-- Informations du signalement -->
    <div class="info-card">
        <h3>ğŸ” DÃ©tails de votre signalement</h3>
        
        <div class="info-row">
            <span class="info-label">ğŸ“‹ NumÃ©ro de rÃ©fÃ©rence</span>
            <span class="info-value"><strong>#{{ fuite.id|stringformat:"05d" }}</strong></span>
        </div>
        
        <div class="info-row">
            <span class="info-label">ğŸ“… Date de signalement</span>
            <span class="info-value">{{ fuite.date_creation|date:"d/m/Y Ã  H:i" }}</span>
        </div>
        
        <div class="info-row">
            <span class="info-label">ğŸ“ Localisation</span>
            <span class="info-value">
                {{ fuite.quartier|default:"Non spÃ©cifiÃ©" }}, 
                {{ fuite.commune|default:"Non spÃ©cifiÃ©e" }}
            </span>
        </div>
        
        {% if fuite.adresse %}
        <div class="info-row">
            <span class="info-label">ğŸ  Adresse</span>
            <span class="info-value">{{ fuite.adresse }}</span>
        </div>
        {% endif %}
        
        <div class="info-row">
            <span class="info-label">âš¡ GravitÃ©</span>
            <span class="info-value">
                {% if fuite.gravite == 'critique' %}
                    <span style="color: #dc2626; font-weight: 600;">ğŸš¨ Critique</span>
                {% elif fuite.gravite == 'moyenne' %}
                    <span style="color: #f59e0b; font-weight: 600;">âš ï¸ Moyenne</span>
                {% else %}
                    <span style="color: #10b981; font-weight: 600;">â„¹ï¸ Faible</span>
                {% endif %}
            </span>
        </div>
        
        {% if fuite.description %}
        <div class="info-row">
            <span class="info-label">ğŸ“ Description</span>
            <span class="info-value">{{ fuite.description|truncatewords:20 }}</span>
        </div>
        {% endif %}
        
        {% if fuite.complaint_phone %}
        <div class="info-row">
            <span class="info-label">ğŸ“ Contact</span>
            <span class="info-value">{{ fuite.complaint_phone }}</span>
        </div>
        {% endif %}
    </div>
    
    <!-- Prochaines Ã©tapes -->
    <div class="info-card" style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe);">
        <h3>ğŸ”„ Prochaines Ã©tapes</h3>
        <p style="margin: 0; color: #1e3a8a;">
            <strong>1. VÃ©rification</strong> - Nos Ã©quipes vont examiner votre signalement<br>
            <strong>2. Planification</strong> - Une mission sera planifiÃ©e si nÃ©cessaire<br>
            <strong>3. Intervention</strong> - Nos techniciens interviendront sur le terrain<br>
            <strong>4. Suivi</strong> - Vous serez informÃ© de l'avancement des travaux
        </p>
    </div>
    
    <!-- Informations importantes -->
    <div class="alert alert-info">
        <strong>â„¹ï¸ Ã€ savoir :</strong><br>
        â€¢ Les signalements critiques sont traitÃ©s en prioritÃ© (dans les 24h)<br>
        â€¢ Vous recevrez un SMS de confirmation si un numÃ©ro a Ã©tÃ© fourni<br>
        â€¢ Notre Ã©quipe vous contactera si des informations supplÃ©mentaires sont nÃ©cessaires
    </div>
    
    <!-- Conseils en attendant -->
    <h3 style="color: #1f2937; margin-top: 30px;">ğŸ’¡ En attendant l'intervention</h3>
    <p>Voici quelques conseils pour limiter les dÃ©gÃ¢ts :</p>
    <ul style="color: #4b5563; line-height: 1.6;">
        <li>ğŸš« <strong>Ã‰vitez la zone</strong> pour votre sÃ©curitÃ©</li>
        <li>ğŸ“± <strong>Signalez tout changement</strong> en nous contactant</li>
        <li>ğŸ’§ <strong>Ã‰conomisez l'eau</strong> dans votre quartier</li>
        <li>ğŸš— <strong>Attention circulation :</strong> risque de glissement si c'est sur la route</li>
    </ul>
    
    <!-- Contact d'urgence -->
    <div class="alert alert-warning">
        <strong>ğŸš¨ En cas d'urgence</strong><br>
        Si la situation s'aggrave (inondation, danger imminent), contactez immÃ©diatement nos services d'urgence au <strong>+243 XXX XXX XXX</strong>
    </div>
    
    <!-- Bouton de suivi -->
    <div style="text-align: center; margin: 30px 0;">
        <a href="http://127.0.0.1:8000/suivi/{{ fuite.opt }}/" class="btn">
            ğŸ” Suivre mon signalement #{{ fuite.id|stringformat:"05d" }}
        </a>
    </div>
    
    <p style="margin-top: 30px; color: #6b7280; font-style: italic;">
        Merci pour votre engagement citoyen ! Ensemble, prÃ©servons l'eau, source de vie. ğŸŒğŸ’§
    </p>
{% endblock %}